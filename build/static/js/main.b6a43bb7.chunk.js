(this.webpackJsonpplanner=this.webpackJsonpplanner||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var i,a=n(0),r=n.n(a),o=n(32),s=n.n(o),c=(n(103),n(28)),l=n(13),d=(n(104),n(168)),u=(n(169),n(26),n(83)),h=n(167),p=(n(81),n(80),n(22)),f=n(23),v=n(39),b=n(85),j=n(84),g=n(171),m=n(162),O=n(166),x=n(172),y=n(49);!function(e){e[e.Single=0]="Single",e[e.Complete=1]="Complete"}(i||(i={}));var _=n(15),k=function(e,t){var n=t.removedIndex,i=t.addedIndex,a=t.payload;if(null===n&&null===i)return e;var r=Object(_.a)(e),o=a;return null!==n&&(o=r.splice(n,1)[0]),null!==i&&r.splice(i,0,o),r},C=n(159),S=n(82),T=n(164),w=n(79),D=n.n(w),N=n(150),I=n(5),P=n(154),M=n(2),G=[{icon:Object(M.jsx)(N.a,{}),text:"L\xf6schen",enabled:!0,action:function(e){e.fDelete()}}],W=Object(I.a)((function(e){return Object(M.jsx)(S.a,Object(c.a)({elevation:0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(P.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function L(e){var t=a.useState(null),n=Object(l.a)(t,2),i=n[0],r=n[1],o=Boolean(i),s=function(){r(null)};return Object(M.jsxs)("div",{className:"vmenu",children:[Object(M.jsx)(d.a,{"aria-label":"more",id:"long-button","aria-controls":"long-menu","aria-expanded":o?"true":void 0,"aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},children:Object(M.jsx)(D.a,{})}),Object(M.jsxs)(W,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:i,open:o,onClose:s,PaperProps:{style:{}},children:[G.map((function(t){var n;return Object(M.jsxs)(T.a,{onClick:function(){t.action&&(t.action(e.taskcard),e.callback()),s()},disableRipple:!0,disabled:null!==(n=!t.enabled)&&void 0!==n&&n,children:[t.icon,t.text]},t.text)})),e.children]})]})}var F=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var i,a;return Object(p.a)(this,n),(a=t.call(this,e)).onColumnDrop=a.onColumnDrop.bind(Object(v.a)(a)),a.onCardDrop=a.onCardDrop.bind(Object(v.a)(a)),a.getCardPayload=a.getCardPayload.bind(Object(v.a)(a)),a.state={scene:{type:"container",props:{orientation:"horizontal"},children:null===(i=e.oWebservice)||void 0===i?void 0:i.fGetLists()}},window.scene=a.state,a}return Object(f.a)(n,[{key:"fSetState",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState(e,n),(null===(t=this.props.oWebservice)||void 0===t?void 0:t.saveType)===i.Complete&&this.props.oWebservice.fSave(this.state.scene.children)}},{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{className:"card-scene",children:Object(M.jsx)(y.Container,{orientation:"horizontal",onDrop:this.onColumnDrop,dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"},children:this.state.scene.children.map((function(t){return Object(M.jsx)(y.Draggable,{children:Object(M.jsxs)(g.a,{className:t.props.className+(0==t.children.length?" emptycontainer":""),sx:{bgcolor:"neutral.main"},children:[Object(M.jsx)("div",{className:"card-column-header",children:Object(M.jsx)(m.a,{fullWidth:!0,variant:"standard",value:t.name,className:"noUnderlineInput",onChange:function(n){var i=Object.assign({},e.state.scene);t.name=n.target.value,e.fSetState({scene:i})}})}),Object(M.jsx)(y.Container,Object(c.a)(Object(c.a)({},t.props),{},{groupName:"col",onDrop:function(n){return e.onCardDrop(t.id,n)},getChildPayload:function(n){return e.getCardPayload(t.id,n)},dragClass:"card-ghost",dropClass:"card-ghost-drop",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"drop-preview"},dropPlaceholderAnimationDuration:200,children:t.children.map((function(t){return Object(M.jsx)(y.Draggable,{children:Object(M.jsx)(g.a,Object(c.a)(Object(c.a)({id:"t"+t.id},t.props),{},{sx:{maxWidth:345},children:Object(M.jsx)(O.a,{action:Object(M.jsx)(L,{taskcard:t,callback:e.updateGUI.bind(e)}),title:Object(M.jsx)(m.a,{multiline:!0,fullWidth:!0,variant:"standard",value:t.data,className:"noUnderlineInput cardtitle",onChange:function(n){var i=Object.assign({},e.state.scene);t.data=n.target.value,e.fSetState({scene:i})}}),subheader:"September 14, 2016"})}))},t.id)}))})),Object(M.jsx)("div",{className:"ContainerFooter",children:Object(M.jsx)(x.a,{startIcon:Object(M.jsx)(C.a,{}),onClick:function(){var n=Object.assign({},e.state.scene),i=t.fAddTask();e.fSetState({scene:n},(function(){document.querySelector("#t"+i.id+" textarea").focus()}))},children:"Neue Karte"})})]})},t.id)}))})})}},{key:"getCardPayload",value:function(e,t){return this.state.scene.children.filter((function(t){return t.id===e}))[0].children[t]}},{key:"onColumnDrop",value:function(e){var t=Object.assign({},this.state.scene);t.children=k(t.children,e),this.fSetState({scene:t})}},{key:"onCardDrop",value:function(e,t){console.log("onCardDrop",e,t);var n=Object.assign({},this.state.scene);if(null!==t.removedIndex||null!==t.addedIndex){var i=t.payload,a=n.children.filter((function(t){return t.id===e}))[0];null!==t.addedIndex&&(i.parent=a),a.children=k(a.children,t)}this.fSetState({scene:n})}},{key:"updateGUI",value:function(){var e=Object.assign({},this.state.scene);this.fSetState({scene:e})}}]),n}(r.a.Component),z=function(){function e(t,n,i,a,r,o){Object(p.a)(this,e),this._type=void 0,this._parent=void 0,this._id=void 0,this._props=void 0,this._data=void 0,this._labels=void 0,this._type=i,this._id=t,this._props=a,this._data=r,this._parent=n,this._labels=null!==o&&void 0!==o?o:[]}return Object(f.a)(e,[{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"props",get:function(){return this._props},set:function(e){this._props=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"labels",get:function(){return this._labels},set:function(e){this._labels=e}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e}},{key:"fDelete",value:function(){var e,t,n=null!==(e=null===(t=this.parent.children)||void 0===t?void 0:t.indexOf(this,0))&&void 0!==e?e:-1;n>-1&&this.parent.children&&this.parent.children.splice(n,1)}}]),e}(),A=function(){function e(t,n,i,a,r){Object(p.a)(this,e),this._id=void 0,this._type=void 0,this._name=void 0,this._props=void 0,this._children=void 0,this._id=t,this._type=n,this._name=i,this._props=a,this._children=null!==r&&void 0!==r?r:[]}return Object(f.a)(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"props",get:function(){return this._props},set:function(e){this._props=e}},{key:"children",get:function(){return this._children},set:function(e){this._children=e}},{key:"fAddTask",value:function(e){var t;return e?(t=e,e.parent=this):t=new z((Math.random()+1).toString(36).substring(7),this,"draggable",{className:"card",style:{background:"white"}},""),this.children.push(t),t}},{key:"fRemoveTask",value:function(e){this.children=this.children.filter((function(t){return t!==e}))}}]),e}(),B=n(69),E=function(){function e(t){Object(p.a)(this,e),this._saveType=void 0,this._saveType=t}return Object(f.a)(e,[{key:"saveType",get:function(){return this._saveType}},{key:"fGetLists",value:function(e){var t,n=[],i=null===(t=window.localStorage)||void 0===t?void 0:t.getItem("planner");try{(i=Object(B.a)(i)).forEach((function(e){var t=new A(e._id,e._type,e._name,e._props,[]);e._children.forEach((function(e){t.fAddTask(new z(e._id,e.oTaskList,e._type,e._props,e._data))})),n.push(t)}))}finally{return 0===n.length&&(n=[new A("0","Container","Purpose",{orientation:"vertical",className:"card-container"},this.fGetTasks("0")),new A("1","Container","Backlog",{orientation:"vertical",className:"card-container"},this.fGetTasks("1")),new A("2","Container","Sprint",{orientation:"vertical",className:"card-container"},this.fGetTasks("2")),new A("3","Container","Active",{orientation:"vertical",className:"card-container"},this.fGetTasks("3")),new A("4","Container","Done",{orientation:"vertical",className:"card-container"},this.fGetTasks("4"))]),n}}},{key:"fGetTasks",value:function(e){}},{key:"fSave",value:function(e){var t;null===(t=window.localStorage)||void 0===t||t.setItem("planner",Object(B.b)(e))}}]),e}(),R=n(35),U=n(160),J=new E(i.Complete),q=a.createContext({toggleColorMode:function(){}});function K(){var e=a.useState("light"),t=Object(l.a)(e,2),n=t[0],i=t[1],r=a.useMemo((function(){return{toggleColorMode:function(){i((function(e){return"light"===e?"dark":"light"}))}}}),[]),o=a.useMemo((function(){return Object(u.a)({palette:Object(c.a)({mode:n},"light"===n?{primary:R.a,neutral:{main:"#f3f3f3",contrastText:"#fff"}}:{primary:U.a,neutral:{main:"#1a1a1a",contrastText:"#fff"}})})}),[n]);return Object(M.jsx)(q.Provider,{value:r,children:Object(M.jsx)(h.a,{theme:o,children:Object(M.jsx)(F,{oWebservice:J})})})}var H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),r(e),o(e)}))},Q=n(161);s.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(Q.a,{injectFirst:!0,children:Object(M.jsx)(K,{})})}),document.getElementById("root")),H()}},[[113,1,2]]]);
//# sourceMappingURL=main.b6a43bb7.chunk.js.map