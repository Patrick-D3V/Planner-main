(this.webpackJsonpplanner=this.webpackJsonpplanner||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var i,a=n(0),r=n.n(a),o=n(32),c=n.n(o),s=(n(103),n(28)),l=n(13),d=(n(104),n(168)),u=n(169),h=n(26),p=n(83),f=n(167),b=n(81),v=n.n(b),j=n(80),g=n.n(j),m=n(22),O=n(23),x=n(39),y=n(85),_=n(84),k=n(171),C=n(162),S=n(166),T=n(172),w=n(49);!function(e){e[e.Single=0]="Single",e[e.Complete=1]="Complete"}(i||(i={}));var D=n(15),N=function(e,t){var n=t.removedIndex,i=t.addedIndex,a=t.payload;if(null===n&&null===i)return e;var r=Object(D.a)(e),o=a;return null!==n&&(o=r.splice(n,1)[0]),null!==i&&r.splice(i,0,o),r},I=n(159),P=n(82),M=n(164),G=n(79),W=n.n(G),L=n(150),F=n(5),z=n(154),A=n(2),B=[{icon:Object(A.jsx)(L.a,{}),text:"L\xf6schen",enabled:!0,action:function(e){e.fDelete()}}],E=Object(F.a)((function(e){return Object(A.jsx)(P.a,Object(s.a)({elevation:0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(z.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function R(e){var t=a.useState(null),n=Object(l.a)(t,2),i=n[0],r=n[1],o=Boolean(i),c=function(){r(null)};return Object(A.jsxs)("div",{className:"vmenu",children:[Object(A.jsx)(d.a,{"aria-label":"more",id:"long-button","aria-controls":"long-menu","aria-expanded":o?"true":void 0,"aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},children:Object(A.jsx)(W.a,{})}),Object(A.jsxs)(E,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:i,open:o,onClose:c,PaperProps:{style:{}},children:[B.map((function(t){var n;return Object(A.jsxs)(M.a,{onClick:function(){t.action&&(t.action(e.taskcard),e.callback()),c()},disableRipple:!0,disabled:null!==(n=!t.enabled)&&void 0!==n&&n,children:[t.icon,t.text]},t.text)})),e.children]})]})}var U=function(e){Object(y.a)(n,e);var t=Object(_.a)(n);function n(e){var i,a;return Object(m.a)(this,n),(a=t.call(this,e)).onColumnDrop=a.onColumnDrop.bind(Object(x.a)(a)),a.onCardDrop=a.onCardDrop.bind(Object(x.a)(a)),a.getCardPayload=a.getCardPayload.bind(Object(x.a)(a)),a.state={scene:{type:"container",props:{orientation:"horizontal"},children:null===(i=e.oWebservice)||void 0===i?void 0:i.fGetLists()}},window.scene=a.state,a}return Object(O.a)(n,[{key:"fSetState",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState(e,n),(null===(t=this.props.oWebservice)||void 0===t?void 0:t.saveType)===i.Complete&&this.props.oWebservice.fSave(this.state.scene.children)}},{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{className:"card-scene",children:Object(A.jsx)(w.Container,{orientation:"horizontal",onDrop:this.onColumnDrop,dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"cards-drop-preview"},children:this.state.scene.children.map((function(t){return Object(A.jsx)(w.Draggable,{children:Object(A.jsxs)(k.a,{className:t.props.className+(0==t.children.length?" emptycontainer":""),sx:{bgcolor:"neutral.main"},children:[Object(A.jsx)("div",{className:"card-column-header",children:Object(A.jsx)(C.a,{fullWidth:!0,variant:"standard",value:t.name,className:"noUnderlineInput",onChange:function(n){var i=Object.assign({},e.state.scene);t.name=n.target.value,e.fSetState({scene:i})}})}),Object(A.jsx)(w.Container,Object(s.a)(Object(s.a)({},t.props),{},{groupName:"col",onDrop:function(n){return e.onCardDrop(t.id,n)},getChildPayload:function(n){return e.getCardPayload(t.id,n)},dragClass:"card-ghost",dropClass:"card-ghost-drop",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"drop-preview"},dropPlaceholderAnimationDuration:200,children:t.children.map((function(t){return Object(A.jsx)(w.Draggable,{children:Object(A.jsx)(k.a,Object(s.a)(Object(s.a)({id:"t"+t.id},t.props),{},{sx:{maxWidth:345},children:Object(A.jsx)(S.a,{action:Object(A.jsx)(R,{taskcard:t,callback:e.updateGUI.bind(e)}),title:Object(A.jsx)(C.a,{multiline:!0,fullWidth:!0,variant:"standard",value:t.data,className:"noUnderlineInput cardtitle",onChange:function(n){var i=Object.assign({},e.state.scene);t.data=n.target.value,e.fSetState({scene:i})}}),subheader:"Heute"})}))},t.id)}))})),Object(A.jsx)("div",{className:"ContainerFooter",children:Object(A.jsx)(T.a,{startIcon:Object(A.jsx)(I.a,{}),onClick:function(){var n=Object.assign({},e.state.scene),i=t.fAddTask();e.fSetState({scene:n},(function(){document.querySelector("#t"+i.id+" textarea").focus()}))},children:"Neue Karte"})})]})},t.id)}))})})}},{key:"getCardPayload",value:function(e,t){return this.state.scene.children.filter((function(t){return t.id===e}))[0].children[t]}},{key:"onColumnDrop",value:function(e){var t=Object.assign({},this.state.scene);t.children=N(t.children,e),this.fSetState({scene:t})}},{key:"onCardDrop",value:function(e,t){console.log("onCardDrop",e,t);var n=Object.assign({},this.state.scene);if(null!==t.removedIndex||null!==t.addedIndex){var i=t.payload,a=n.children.filter((function(t){return t.id===e}))[0];null!==t.addedIndex&&(i.parent=a),a.children=N(a.children,t)}this.fSetState({scene:n})}},{key:"updateGUI",value:function(){var e=Object.assign({},this.state.scene);this.fSetState({scene:e})}}]),n}(r.a.Component),J=function(){function e(t,n,i,a,r,o){Object(m.a)(this,e),this._type=void 0,this._parent=void 0,this._id=void 0,this._props=void 0,this._data=void 0,this._labels=void 0,this._type=i,this._id=t,this._props=a,this._data=r,this._parent=n,this._labels=null!==o&&void 0!==o?o:[]}return Object(O.a)(e,[{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"props",get:function(){return this._props},set:function(e){this._props=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"labels",get:function(){return this._labels},set:function(e){this._labels=e}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e}},{key:"fDelete",value:function(){var e,t,n=null!==(e=null===(t=this.parent.children)||void 0===t?void 0:t.indexOf(this,0))&&void 0!==e?e:-1;n>-1&&this.parent.children&&this.parent.children.splice(n,1)}}]),e}(),q=function(){function e(t,n,i,a,r){Object(m.a)(this,e),this._id=void 0,this._type=void 0,this._name=void 0,this._props=void 0,this._children=void 0,this._id=t,this._type=n,this._name=i,this._props=a,this._children=null!==r&&void 0!==r?r:[]}return Object(O.a)(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"props",get:function(){return this._props},set:function(e){this._props=e}},{key:"children",get:function(){return this._children},set:function(e){this._children=e}},{key:"fAddTask",value:function(e){var t;return e?(t=e,e.parent=this):t=new J((Math.random()+1).toString(36).substring(7),this,"draggable",{className:"card",style:{background:"white"}},""),this.children.push(t),t}},{key:"fRemoveTask",value:function(e){this.children=this.children.filter((function(t){return t!==e}))}}]),e}(),H=n(69),K=function(){function e(t){Object(m.a)(this,e),this._saveType=void 0,this._saveType=t}return Object(O.a)(e,[{key:"saveType",get:function(){return this._saveType}},{key:"fGetLists",value:function(e){var t,n=[],i=null===(t=window.localStorage)||void 0===t?void 0:t.getItem("planner");try{(i=Object(H.a)(i)).forEach((function(e){var t=new q(e._id,e._type,e._name,e._props,[]);e._children.forEach((function(e){t.fAddTask(new J(e._id,e.oTaskList,e._type,e._props,e._data))})),n.push(t)}))}finally{return 0===n.length&&(n=[new q("0","Container","Purpose",{orientation:"vertical",className:"card-container"},this.fGetTasks("0")),new q("1","Container","Backlog",{orientation:"vertical",className:"card-container"},this.fGetTasks("1")),new q("2","Container","Sprint",{orientation:"vertical",className:"card-container"},this.fGetTasks("2")),new q("3","Container","Active",{orientation:"vertical",className:"card-container"},this.fGetTasks("3")),new q("4","Container","Done",{orientation:"vertical",className:"card-container"},this.fGetTasks("4"))]),n}}},{key:"fGetTasks",value:function(e){}},{key:"fSave",value:function(e){var t;null===(t=window.localStorage)||void 0===t||t.setItem("planner",Object(H.b)(e))}}]),e}(),Q=n(35),V=n(160),X=new K(i.Complete),Y=a.createContext({toggleColorMode:function(){}});function Z(){var e=Object(h.a)(),t=a.useContext(Y);return Object(A.jsx)(u.a,{children:Object(A.jsx)(d.a,{sx:{ml:1},onClick:t.toggleColorMode,color:"inherit",children:"dark"===e.palette.mode?Object(A.jsx)(g.a,{}):Object(A.jsx)(v.a,{})})})}function $(){var e=a.useState("light"),t=Object(l.a)(e,2),n=t[0],i=t[1],r=a.useMemo((function(){return{toggleColorMode:function(){i((function(e){return"light"===e?"dark":"light"}))}}}),[]),o=a.useMemo((function(){return Object(p.a)({palette:Object(s.a)({mode:n},"light"===n?{primary:Q.a,neutral:{main:"#f3f3f3",contrastText:"#fff"}}:{primary:V.a,neutral:{main:"#1a1a1a",contrastText:"#fff"}})})}),[n]);return Object(A.jsx)(Y.Provider,{value:r,children:Object(A.jsxs)(f.a,{theme:o,children:[Object(A.jsx)(Z,{}),Object(A.jsx)(U,{oWebservice:X})]})})}var ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),r(e),o(e)}))},te=n(161);c.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(te.a,{injectFirst:!0,children:Object(A.jsx)($,{})})}),document.getElementById("root")),ee()}},[[113,1,2]]]);
//# sourceMappingURL=main.f1a39035.chunk.js.map